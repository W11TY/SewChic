<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vanta Effect with Custom Cursor</title>
  <style>
    /* Add some basic styles to the section */
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
    }

    .s-page-1 {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100%;
      background-color: #000; /* Fallback background color */
    }

    /* Add more specific styling for the section where Vanta effect will be applied */
    .s-page-1 .s-section-1 .s-section {
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* Add custom cursor styles */
    .cursor {
      position: fixed;
      left: 0;
      top: 0;
      pointer-events: none;
    }
    .cursor--small {
      width: 10px;
      height: 10px;
      left: -2.5px;
      top: -2.5px;
      border-radius: 50%;
      z-index: 11000;
      background: #fff; /* Custom cursor color */
    }
    .cursor--canvas {
      width: 100vw;
      height: 100vh;
      z-index: 12000;
    }
  </style>
</head>
<body>
  <div class="s-page-1">
    <div class="s-section-1">
      <div class="s-section">
        <img src="file:///C:/Users/akshi/OneDrive/Desktop/SewChicXTYS/Blank_1_Panel_Landscape_Comic_Strip-removebg-preview.png" alt="Your Image">
      </div>
    </div>
  </div>

  <div class="cursor cursor--small"></div>
  <canvas class="cursor cursor--canvas" resize></canvas>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.topology.min.js"></script>
  <script>
    // Custom Cursor JavaScript Code

    let clientX = -100;
    let clientY = -100;
    const innerCursor = document.querySelector(".cursor--small");

    const initCursor = () => {
      document.addEventListener("mousemove", e => {
        clientX = e.clientX;
        clientY = e.clientY;
      });
      
      const render = () => {
        innerCursor.style.transform = `translate(${clientX}px, ${clientY}px)`;
        requestAnimationFrame(render);
      };
      requestAnimationFrame(render);
    };

    initCursor();

    // Vanta Effect JavaScript Code

    var setVanta = () => {
      if (window.VANTA) window.VANTA.TOPOLOGY({
        el: ".s-page-1 .s-section-1 .s-section",
        mouseControls: true,
        touchControls: true,
        gyroControls: false,
        minHeight: 200.00,
        minWidth: 200.00,
        scale: 1.00,
        scaleMobile: 1.00,
        color: 0xcfd9c7,
        backgroundColor: 0x0
      });
    };

    // Call setVanta when the page loads and before a new page is faded in
    window.addEventListener("load", function () {
      setVanta();
    });

    _strk.push(function() {
      window.edit_page.Event.subscribe("Page.beforeNewOneFadeIn", setVanta);
    });
  </script>
</body>
</html>
